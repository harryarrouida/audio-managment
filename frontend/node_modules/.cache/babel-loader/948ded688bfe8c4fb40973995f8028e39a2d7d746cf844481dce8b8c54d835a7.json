{"ast":null,"code":"/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error('Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time');\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n  this.attributeWrapSign = options.singleQuotedAttributeValue === true ? \"'\" : DEFAULT.attributeWrapSign;\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var attributeWrapSign = me.attributeWrapSign;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(options.stripIgnoreTagBody, onIgnoreTag);\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n  var retHtml = parseTag(html, function (sourcePosition, position, tag, html, isClosing) {\n    var info = {\n      sourcePosition: sourcePosition,\n      position: position,\n      isClosing: isClosing,\n      isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag)\n    };\n\n    // call `onTag()`\n    var ret = onTag(tag, html, info);\n    if (!isNull(ret)) return ret;\n    if (info.isWhite) {\n      if (info.isClosing) {\n        return \"</\" + tag + \">\";\n      }\n      var attrs = getAttrs(html);\n      var whiteAttrList = whiteList[tag];\n      var attrsHtml = parseAttr(attrs.html, function (name, value) {\n        // call `onTagAttr()`\n        var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n        var ret = onTagAttr(tag, name, value, isWhiteAttr);\n        if (!isNull(ret)) return ret;\n        if (isWhiteAttr) {\n          // call `safeAttrValue()`\n          value = safeAttrValue(tag, name, value, cssFilter);\n          if (value) {\n            return name + '=' + attributeWrapSign + value + attributeWrapSign;\n          } else {\n            return name;\n          }\n        } else {\n          // call `onIgnoreTagAttr()`\n          ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n          return;\n        }\n      });\n\n      // build new tag html\n      html = \"<\" + tag;\n      if (attrsHtml) html += \" \" + attrsHtml;\n      if (attrs.closing) html += \" /\";\n      html += \">\";\n      return html;\n    } else {\n      // call `onIgnoreTag()`\n      ret = onIgnoreTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n      return escapeHtml(html);\n    }\n  }, escapeHtml);\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n  return retHtml;\n};\nmodule.exports = FilterXSS;","map":{"version":3,"names":["FilterCSS","require","DEFAULT","parser","parseTag","parseAttr","_","isNull","obj","undefined","getAttrs","html","i","spaceIndex","closing","length","trim","slice","isClosing","shallowCopyObject","ret","keysToLowerCase","Array","isArray","toLowerCase","map","item","FilterXSS","options","stripIgnoreTag","onIgnoreTag","console","error","onIgnoreTagStripAll","whiteList","allowList","attributeWrapSign","singleQuotedAttributeValue","onTag","onTagAttr","onIgnoreTagAttr","safeAttrValue","escapeHtml","css","cssFilter","prototype","process","toString","me","stripBlankChar","allowCommentTag","stripCommentTag","stripIgnoreTagBody","StripTagBody","retHtml","sourcePosition","position","tag","info","isWhite","Object","hasOwnProperty","call","attrs","whiteAttrList","attrsHtml","name","value","isWhiteAttr","indexOf","remove","module","exports"],"sources":["C:/Users/Hamza Arrouida/Desktop/PROJECTS/SNRT/audio-managment-v2 [enhanced]/node_modules/xss/lib/xss.js"],"sourcesContent":["/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  this.attributeWrapSign = options.singleQuotedAttributeValue === true ? \"'\" : DEFAULT.attributeWrapSign;\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var attributeWrapSign = me.attributeWrapSign;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=' + attributeWrapSign + value + attributeWrapSign;\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}